<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login - TASKManager</title>
  <link rel="stylesheet" href="../css/login.css" />
</head>
<body>
  <div class="container">
    <form id="loginForm" class="login-box">
      <h1 class="title">Login</h1>

      <label for="email" class="label">Your email</label>
      <input type="email" id="email" placeholder="Please insert your e-mail" />

      <label for="password" class="label">Password</label>
      <input type="password" id="password" placeholder="Please insert your password" />

      <button type="submit" id="signinBtn" class="signin-btn">Sign in</button>

      <p>NÃ£o tem uma conta? <span onclick="redirecionarParaCadastro()">Criar conta</span></p>
    </form>
  </div>
</body>
</body>
<script src="../js/api-mock.js"></script>
<script src="../js/main.js"></script>
<script type="module" src="../js/pages/login.js"></script>
<script>
  function redirecionarParaCadastro() { window.location.href = './cadastro.html'; }

  document.getElementById('signinBtn').addEventListener('click', function(){
    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;
    apiMock.login(email, password).then(res => {
      if (res && res.token) {
        sessionStorage.setItem('authToken', res.token);
        window.location.href = 'profile.html';
      } else {
        alert('Erro no login (mock)');
      }
    });
  });
</script>
</html>